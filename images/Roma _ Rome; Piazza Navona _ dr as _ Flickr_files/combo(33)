YUI.add("photo-privacy-models",function(e){function i(e){i.superclass.constructor.call(this,e)}e.Models[this.name]=i,e.extend(i,e.FlickrModelRegistry,{name:this.name,remote:{read:function(i){return e.ModelFetchers["flickr-photos-getInfo"].run(i,this.appContext)},update:function(i,t){var r;return r={photo_id:i,is_public:this.getValue(i,"isPublic"),is_friend:this.getValue(i,"isVisibleByFriends"),is_family:this.getValue(i,"isVisibleByFamily"),perm_addmeta:this.getValue(i,"permAddMeta"),perm_comment:this.getValue(i,"permComment")},e.ModelUpdaters["flickr-photos-setPerms"].run(r,this.appContext)},batchUpdate:function(i,t){var r;switch(!0){case"privacy"in t&&"commenting"in t&&"addMeta"in t:r={photo_ids:i,is_public:t.privacy.isPublic,is_friend:t.privacy.isVisibleByFriends,is_family:t.privacy.isVisibleByFamily,perm_addmeta:t.addMeta,perm_comment:t.commenting};break;case"privacy"in t&&"commenting"in t:r={photo_ids:i,is_public:t.privacy.isPublic,is_friend:t.privacy.isVisibleByFriends,is_family:t.privacy.isVisibleByFamily,perm_comment:t.commenting};break;case"privacy"in t&&"addMeta"in t:r={photo_ids:i,is_public:t.privacy.isPublic,is_friend:t.privacy.isVisibleByFriends,is_family:t.privacy.isVisibleByFamily,perm_addmeta:t.addMeta};break;case"commenting"in t&&"addMeta"in t:r={photo_ids:i,perm_addmeta:t.addMeta,perm_comment:t.commenting};break;case"privacy"in t:r={photo_ids:i,is_public:t.privacy.isPublic,is_friend:t.privacy.isVisibleByFriends,is_family:t.privacy.isVisibleByFamily};break;case"commenting"in t:r={photo_ids:i,perm_comment:t.commenting};break;case"addMeta"in t:r={photo_ids:i,perm_addmeta:t.addMeta}}return r.full_response=1,e.ModelUpdaters["flickr-photos-setPerms"].run(r,this.appContext)}},attributes:{isPublic:{validator:function(i){return e.AttributeHelpers.validateBoolean(i)},setter:function(i){return e.AttributeHelpers.coerceBoolean(i)},defaultValue:!1},isVisibleByFriends:{validator:function(i){return e.AttributeHelpers.validateBoolean(i)},setter:function(i){return e.AttributeHelpers.coerceBoolean(i)},defaultValue:!1},isVisibleByFamily:{validator:function(i){return e.AttributeHelpers.validateBoolean(i)},setter:function(i){return e.AttributeHelpers.coerceBoolean(i)},defaultValue:!1},permAddMeta:{validator:function(i){return e.AttributeHelpers.validateInteger(i)},setter:function(i){return e.AttributeHelpers.coerceInteger(i)},defaultValue:0},permComment:{validator:function(i){return e.AttributeHelpers.validateInteger(i)},setter:function(i){return e.AttributeHelpers.coerceInteger(i)},defaultValue:0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-photos-getPerms-fetcher","flickr-photos-setPerms-updater","attribute-helpers"]});
YUI.add("flickr-photos-getPerms-fetcher",function(e,r){"use strict";function s(e,r){var s,i=e[0],o=e[1];s={id:r.id,isPublic:i.perms.ispublic,isVisibleByFriends:i.perms.isfriend,isVisibleByFamily:i.perms.isfamily,permAddMeta:i.perms.permaddmeta,permComment:i.perms.permcomment},o.addOrUpdate(s)}function i(s,i){var o=s.id,t={photo_id:o},p=this;return e.Promise.all([i.callAPI("flickr.photos.getPerms",t),i.getModelRegistry("photo-privacy-models")]).then(function(e){return p._processResponse(e,s)},e.FetcherErrorLogger(r))}e.namespace("ModelFetchers")["flickr-photos-getPerms"]={run:i,_processResponse:s}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-privacy-models"]});
